# inflearn-spring-core-basic

# π¤” μΆ‹μ€ κ°μ²΄ μ§€ν–¥β”
κ°μ²΄ μ§€ν–¥ ν”„λ΅κ·Έλ¨λ°μ€ μ»΄ν“¨ν„° ν”„λ΅κ·Έλ¨μ„ κ°μ²΄λ“¤μ λ¨μ„μΌλ΅ ν•΄μ„ν•λ‹¤. κ° κ°μ²΄λ“¤μ€ μ„λ΅ ν‘λ ¥ν•μ—¬ λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•λ‹¤. κ°μ²΄ μ§€ν–¥ ν”„λ΅κ·Έλλ°μ€ **μ μ—°ν•κ³  λ³€κ²½μ΄ μ©μ΄**ν•κ² λ§λ“¤μ–΄ λ€κ·λ¨ μ†ν”„νΈμ›¨μ–΄ κ°λ°μ— λ§μ΄ μ‚¬μ©λλ‹¤.

## κ°μ²΄ μ§€ν–¥ νΉμ§•
* μ¶”μƒν™”
* μΊ΅μν™”
* μƒμ†
* **λ‹¤ν•μ„±**
  π‘‰ **μ—­ν• **κ³Ό **κµ¬ν„**μΌλ΅ μ„Έμƒμ„ κµ¬λ¶„ν•λ‹¤.
  
### λ‹¤ν•μ„± β”
![](https://velog.velcdn.com/images/pipiolo/post/2ce8446c-c976-4674-ad80-d048a40b1f20/image.png)

* μ—­ν• κ³Ό κµ¬ν„μΌλ΅ μ„Έμƒμ„ κµ¬λ¶„ν•λ‹¤.
* `μλ™μ°¨`λ¥Ό λ³€κ²½ν•΄λ„ `μ΄μ „`ν•  μ μλ‹¤.
  * `μ΄μ „μ`λ” λ³„λ„λ΅ λ¬΄μ–Έκ°€λ¥Ό ν•  ν•„μ”κ°€ μ—†λ‹¤.
  * μλ™μ°¨ `μ—­ν• `λ§ μν–‰ν•λ‹¤λ©΄, μƒλ΅μ΄ `μλ™μ°¨`λ¥Ό λ¬΄ν•ν λ§λ“¤ μ μλ‹¤.
* `κµ¬ν„μ²΄`λ¥Ό λ³€κ²½ν•΄λ„ `ν΄λΌμ΄μ–ΈνΈ`λ” μ •μƒ λ™μ‘ν•λ‹¤.
  * `ν΄λΌμ΄μ–ΈνΈ`λ” μ½”λ“μ μμ •μ—†μ΄ `κµ¬ν„μ²΄`λ¥Ό λ³€κ²½ν•  μ μλ‹¤.
  * `μΈν„°νμ΄μ¤`λ§ μ§€ν‚¨λ‹¤λ©΄, `κµ¬ν„μ²΄`λ¥Ό λ¬΄ν•ν λ§λ“¤ μ μλ‹¤.


![](https://velog.velcdn.com/images/pipiolo/post/f498f755-0f9b-4af9-8e89-43e0a91ab24b/image.png)

* μ—­ν• κ³Ό κµ¬ν„μΌλ΅ μ„Έμƒμ„ κµ¬λ¶„ν•λ‹¤.
* λ°°μ°λ“¤μ΄ λ³€κ²½λμ–΄λ„ μ—°κ·Ήμ€ λ¬Έμ μ—†μ΄ μ§„ν–‰λλ‹¤.
* κµ¬ν„μ²΄κ°€ λ³€κ²½λμ–΄λ„ ν”„λ΅κ·Έλ¨μ€ μ •μƒ μ‘λ™ν•λ‹¤.

### μ—­ν• κ³Ό κµ¬ν„
* μ—­ν• κ³Ό κµ¬ν„μΌλ΅ κµ¬λ¶„ν•λ©΄, μ„Έμƒμ΄ λ‹¨μν•΄μ§€κ³  μ μ—°ν•κ³  λ³€κ²½μ— μ λ¦¬ν•λ‹¤.
* μλ°”μ λ‹¤ν•μ„±
  * μ—­ν•  π‘‰ μΈν„°νμ΄μ¤
  * κµ¬ν„ π‘‰ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• κ°μ²΄, κµ¬ν„μ²΄
* μ¥μ 
  * ν΄λΌμ΄μ–ΈνΈλ” μΈν„°νμ΄μ¤λ§ μ•λ©΄ λλ‹¤.
  * ν΄λΌμ΄μ–ΈνΈλ” κµ¬ν„μ²΄μ λ‚΄λ¶€ κµ¬μ΅°λ¥Ό λ°λΌλ„ λλ‹¤.
  * ν΄λΌμ΄μ–ΈνΈλ” λ‚΄λ¶€ κµ¬μ΅°κ°€ λ³€κ²½λμ–΄λ„ μν–¥μ„ λ°›μ§€ μ•λ”λ‹¤.
  * ν΄λΌμ΄μ–ΈνΈλ” κµ¬ν„μ²΄κ°€ λ³€κ²½λμ–΄λ„ μν–¥μ„ λ°›μ§€ μ•λ”λ‹¤.
* κ°μ²΄λ¥Ό μ„¤κ³„ν•  λ•, μ—­ν• κ³Ό κµ¬ν„μ„ λ…ν™•ν λ¶„λ¦¬ν•λ‹¤.

### μ¤λ²„λΌμ΄λ”©
![](https://velog.velcdn.com/images/pipiolo/post/5129b878-abe0-4962-b003-55516bd3d8b5/image.png)

* μ¤λ²„λΌμ΄λ”©μ€ μλ°”μ λ‹¤ν•μ„±μ„ λ‹΄λ‹Ήν•λ‹¤.
* μΈν„°νμ΄μ¤ λ©”μ†λ“λ¥Ό μ‹¤ν–‰ν•λ©΄, κ° κµ¬ν„μ²΄λ“¤μ μ¤λ²„λΌμ΄λ”©λ λ©”μ†λ“κ°€ μ‹¤ν–‰λλ‹¤.
* μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• κ°μ²΄λ¥Ό μ‹¤ν–‰ μ‹μ μ— μ μ—°ν•κ² λ³€κ²½ν•  μ μλ‹¤.
* ν΄μ•„μ΄μ–ΈνΈλ” μΈν„°νμ΄μ¤μ— μμ΅΄ν•λ©΄ λλ‹¤.

### λ‹¤ν•μ„±β—οΈ
* μ‹¤μ„Έκ³„μ μ—­ν• κ³Ό κµ¬ν„μ„ λ‹¤ν•μ„±μ„ ν†µν•΄ κ°μ²΄ μ„Έμƒμ— κ°€μ Έμ¨λ‹¤.
* μΈν„°νμ΄μ¤λ¥Ό μ μ„¤κ³„ν•λ” κ²ƒμ΄ μ¤‘μ”ν•λ‹¤.
  * μΈν„°νμ΄μ¤κ°€ λ³€ν•λ©΄, ν΄λΌμ΄μ–ΈνΈβ™μ„λ²„μ— ν° λ³€κ²½μ΄ λ°μƒν•λ‹¤.
* κµ¬ν„μ²΄λ¥Ό μ‹¤ν–‰ μ‹μ μ— μ μ—°ν•κ² λ³€κ²½ν•  μ μλ‹¤.
* ν™•μ¥ κ°€λ¥ν• μ„¤κ³„λ΅ μ μ—°ν•κ³  λ³€κ²½μ— μ©μ΄ν• μ• ν”λ¦¬μΌ€μ΄μ…μ„ κ°λ°ν•λ‹¤.
* **ν΄λΌμ΄μ–ΈνΈλ¥Ό λ³€κ²½ν•μ§€ μ•κ³ , μ„λ²„μ κµ¬ν„ κΈ°λ¥μ„ μ μ—°ν•κ² λ³€κ²½ν•  μ μλ‹¤.**

## μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ„¤κ³„ 5μ›μΉ™ (SOLID)
ν΄λ¦° μ½”λ“λ΅ μ λ…ν• λ΅λ²„νΈ λ§ν‹΄μ μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ„¤κ³„ 5κ°€μ§€ μ›μΉ™μ΄λ‹¤.
* SRP (Single Responsibility Principle) π‘‰ λ‹¨μΌ μ±…μ„ μ›μΉ™
* **OCP** (Open / Closed Principle) π‘‰ κ°λ°©β™νμ‡„ μ›μΉ™
* LSP (Liskov Substitution Principle) π‘‰ λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™
* ISP (Interface Segregation Principle) π‘‰ μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ›μΉ™ 
* **DIP** (Dependency Inversion Principle) π‘‰ μμ΅΄κ΄€κ³„ μ—­μ „ μ›μΉ™

### λ‹¨μΌ μ±…μ„ μ›μΉ™ (SRP)
* ν•λ‚μ ν΄λμ¤λ” ν•λ‚μ μ±…μ„λ§ κ°€μ Έμ•Ό ν•λ‹¤.
* μ¤‘μ”ν• κΈ°μ¤€μ€ `λ³€κ²½`μ΄λ‹¤. λ³€κ²½μ΄ μμ„ λ• νκΈ‰ ν¨κ³Όκ°€ μ μΌλ©΄, λ‹¨μΌ μ±…μ„ μ›μΉ™μ„ μ λ”°λ¥Έ κ²ƒμ΄λ‹¤.

### κ°λ°©β™νμ‡„ μ›μΉ™ (OCP)
```java
public class MemberService {
//	private MemberRepository memberRepository = new MemoryMemberRepository();
    private MemberRepository memberRepository = new JdbcMemberRepository();
}
```
* ν™•μ¥μ—λ” μ—΄λ ¤μμΌλ‚ λ³€κ²½μ—λ” λ‹«ν€ μμ–΄μ•Ό ν•λ‹¤.
* λ‹¤ν•μ„±μ„ μ‚¬μ©ν•μ.
  * μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• μƒλ΅μ΄ ν΄λμ¤λ¥Ό λ§λ“¤μ–΄μ„ κµ¬ν„μ²΄λ¥Ό λ³€κ²½ν•΄λ³΄μ.
* κµ¬ν„μ²΄λ¥Ό λ³€κ²½ν•λ ¤λ©΄, ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ¥Ό λ³€κ²½ν•΄μ•Ό ν•λ‹¤.
  * `= new xxxMemberRepository`
* λ‹¤ν•μ„±μ„ μ‚¬μ©ν•΄λ„ OCP μ›μΉ™μ„ μ§€ν‚¬ μ μ—†λ‹¤.
* κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ—°κ΄€κ΄€κ³„λ¥Ό λ§Ίμ–΄μ£Όλ” λ³„λ„μ μ„¤μ •μκ°€ ν•„μ”ν•λ‹¤.
  π‘‰ `Spring` πΏ

### λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™ (LSP)
* κ°μ²΄λ” μ •ν™•μ„±μ„ κΉ¨νΈλ¦¬μ§€ μ•κ³  ν•μ„ νƒ€μ…μ μΈμ¤ν„΄μ¤λ΅ λ°”κΏ€ μ μμ–΄μ•Ό ν•λ‹¤.
* λ‹¤ν•μ„±μ—μ„ κµ¬ν„μ²΄λ” μΈν„°νμ΄μ¤ κ·μ•½μ„ λ‹¤ μ§€μΌμ•Ό ν•λ‹¤λ” κ²ƒμ΄λ‹¤.
  * μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• κµ¬ν„μ²΄λ¥Ό λ―Ώμ„λ ¤λ©΄, μ΄ μ›μΉ™μ΄ ν•„μ”ν•λ‹¤.
* λ‹¨μ μ»΄νμΌλ¬ μ„±κ³µμ„ λ„μ–΄μ„, μΈν„°νμ΄μ¤κ°€ μ›ν•λ” λ™μ‘μ„ κµ¬ν„μ²΄κ°€ μ‹¤ν–‰ν•΄μ•Ό ν•λ‹¤.

### μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ›μΉ™ (ISP)
* νΉμ • ν΄λΌμ΄μ–ΈνΈλ¥Ό μ„ν• ν•λ‚μ λ²”μ© μΈν„°νμ΄μ¤λ³΄λ‹¤ μ—¬λ¬ κ°μ μΈν„°νμ΄μ¤κ°€ λ‚«λ‹¤.
* λ¶„λ¦¬ν•  μλ΅ μΈν„°νμ΄μ¤κ°€ λ³€ν•΄λ„ ν΄λΌμ΄μ–ΈνΈμ— μν–¥μ„ μ£Όμ§€ μ•λ”λ‹¤.
* μλ™μ°¨ μΈν„°νμ΄μ¤ π‘‰ μ΄μ „ μΈν„°νμ΄μ¤, μ •λΉ„ μΈν„°νμ΄μ¤
* μΈν„°νμ΄μ¤κ°€ λ…ν™•ν•΄μ§€κ³  λ³€κ²½μ— μ©μ΄ν•΄μ§„λ‹¤.

### μμ΅΄κ΄€κ³„ μ—­μ „ μ›μΉ™ (DIP)
* κµ¬ν„μ²΄μ— μμ΅΄ν•μ§€ μ•κ³  μ¶”μƒν™”μ— μμ΅΄ν•΄μ•Ό ν•λ‹¤.
* κµ¬ν„ ν΄λμ¤μ— μμ΅΄ν•μ§€ μ•κ³  μΈν„°νμ΄μ¤μ— μμ΅΄ν•΄μ•Ό ν•λ‹¤.
* `MemberService`λ” `MemberRepository` μΈν„°νμ΄μ¤μ— μμ΅΄ν•μ§€λ§, λ™μ‹μ— κµ¬ν„μ²΄μ—λ„ μμ΅΄ν•κ³  μλ‹¤.

### ν•κ³„
* κ°μ²΄ μ§€ν–¥μ ν•µμ‹¬μ€ λ‹¤ν•μ„±μ΄λ‹¤.
* λ‹¤ν•μ„±λ§μΌλ΅ OCP, DIPλ¥Ό μ§€ν‚¬ μ μ—†λ‹¤.
* λ¬΄μ–Έκ°€ λ” ν•„μ”ν•λ‹¤.
  π‘‰ `Spring` πΏ
  
## κ°μ²΄ μ§€ν–¥κ³Ό μ¤ν”„λ§ πΏ
* μ¤ν”„λ§μ€ DI(Dependency Injection) μ»¨ν…μ΄λ„λ¥Ό ν†µν• μμ΅΄ κ΄€κ³„ μ£Όμ…μ„ ν†µν•΄ `λ‹¤ν•μ„±`κ³Ό `OCP`, `DIP`λ¥Ό λ³΄μ¥ν•λ‹¤.
* `OCP`, `DIP` μ›μΉ™μ„ μ§€ν‚¤λ©΄μ„ κ°λ°μ„ ν•λ©΄, κ²°κµ­ `DI μ»¨ν…μ΄λ„`, μ¤ν”„λ§ ν”„λ μ„μ›ν¬λ¥Ό λ§λ“¤κ² λλ‹¤.
* ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ λ³€κ²½μ—†μ΄ κΈ°λ¥μ„ ν™•μ¥ν•λ‹¤.
* μ¤ν”„λ§μ€ **μΆ‹μ€ κ°μ²΄ μ§€ν–¥** μ• ν”λ¦¬μΌ€μ΄μ…μ„ κ°λ°ν•  μ μκ² λ„μ™€μ£Όλ” ν”„λ μ„μ›ν¬μ΄λ‹¤.

---

# μ¤ν”„λ§ ν•µμ‹¬ μ›λ¦¬ μ΄ν•΄ πΏ
## μμ  μ΄ν•΄
```java
public class OrderServiceImpl implements OrderService {
    // private final DiscountPolicy = new FixDiscountPolicy();
    private final DiscountPolicy = new RateDiscountPolicy();
}
```

![](https://velog.velcdn.com/images/pipiolo/post/6f9850e4-1cbf-44d6-ada1-7238faf2b62c/image.png)

* `OrderServiceImpl` ν΄λμ¤λ” `DiscountPolicy` μΈν„°νμ΄μ¤μ— μμ΅΄ν•λ©΄μ„, λ™μ‹μ— `FixCountPolicy` ν΄λμ¤μ—λ„ μμ΅΄ν•κ³  μλ‹¤. π‘‰ **DIP** μ„λ°
* ν• μΈ μ •μ±…μ„ `RateDiscountPolicy`λ΅ λ³€κ²½ν•λ©΄ ν΄λΌμ΄μ–ΈνΈμΈ `OrderServiceImpl` μ½”λ“λ¥Ό λ³€κ²½ν•΄μ•Ό ν•λ‹¤. π‘‰ **OCP** μ„λ°
  * μ μ—°ν•κ² λ™μ‘ν•μ§€ μ•λ”λ‹¤. λ³€κ²½μ΄ μ©μ΄ν•μ§€ μ•λ‹¤.
* μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•λ©΄ κµ¬ν„μ²΄κ°€ μ—†μ–΄ NPE(Null Pointer Exception)κ°€ λ°μƒν•λ‹¤.
* **λ„κµ°κ°€**κ°€ `DiscountPolicy`λ¥Ό κµ¬ν„ν• κ°μ²΄λ¥Ό λ€μ‹  μƒμ„±ν•κ³  μ£Όμ…ν•΄ μ£Όμ–΄μ•Όν•λ‹¤.
  π‘‰ `Spring` πΏ
  
## AppConfig λ“±μ¥
```java
public class AppConfig {
    public OrderService orderService() {
        return new OrderServiceImpl(discountPolicy());
    }
    
    public DiscountPolicy discountPolicy() {
        return new RateDiscountPolicy();
    }
}

public class OrderServiceImpl implements OrderService {

    private final DiscountPolicy DiscountPolicy;
    
    public OrderServiceImpl(DiscountPolicy discountPolicy) {
        this.discountPolicy = discountPolicy;
    }
}
```

![](https://velog.velcdn.com/images/pipiolo/post/f0e14107-2a61-41eb-8a6b-2cf4c538f40f/image.png)

* `OrderServiceImpl` ν΄λμ¤λ” `DiscountPolicy` μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•κ³  κµ¬ν„μ²΄λ” μƒμ„±μλ¥Ό ν†µν•΄μ„ μ™Έλ¶€μ—μ„ μ–»λ”λ‹¤. π‘‰ **DIP** μ™„μ„±
* ν• μΈ μ •μ±…μ„ `RateDiscountPolicy`λ΅ λ³€κ²½ν•΄λ„ `OrderServiceImpl` μ½”λ“λ” μ μ§€λλ‹¤. π‘‰ **OCP** μ™„μ„±
* `AppConfig` ν΄λμ¤λ” κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ—°κ²°μ„ μ±…μ„μ§„λ‹¤.
  * `OrderServiceImpl`, `RateDiscountPolicy` κ°μ²΄λ¥Ό μƒμ„±ν•λ‹¤.
  * μƒμ„±ν• κ°μ²΄ μΈμ¤ν„΄μ¤λ¥Ό `OrderServiceImpl` μƒμ„±μλ¥Ό ν†µν•΄μ„ μ£Όμ…(μ—°κ²°)ν•λ‹¤.
* ν΄λΌμ΄μ–ΈνΈμΈ `OrderServiceImpl` μ™Έλ¶€μ—μ„ μμ΅΄ κ΄€κ³„λ¥Ό μ£Όμ…ν•΄μ„ **μμ΅΄κ΄€κ³„ μ£Όμ…**(`Depdendency Injection`)μ΄λΌ ν•λ‹¤.
  * ν΄λΌμ΄μ–ΈνΈλ” μƒμ„±μλ¥Ό ν†µν•΄μ„ μ–΄λ–¤ κµ¬ν„ κ°μ²΄κ°€ μ£Όμ…λ μ§€ μ• μ μ—†λ‹¤.
* μƒμ„±μλ¥Ό ν†µν•΄μ„ μ–΄λ–¤ κµ¬ν„ κ°μ²΄λ¥Ό μ£Όμ…ν• μ§€λ” μ¤μ§ μ™Έλ¶€(`AppConfig`)μ—μ„ κ²°μ •ν•λ‹¤.
* μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ‚¬μ© μμ—­κ³Ό κ°μ²΄λ¥Ό μƒμ„±ν•κ³  κµ¬μ„±ν•λ” μμ—­μΌλ΅ λ¶„λ¦¬ν•λ‹¤.
  * κµ¬μ„± μμ—­λ§ μν–¥μ„ λ°›κ³  **μ‚¬μ© μμ—­μ€ μ „ν€ μν–¥μ„ λ°›μ§€ μ•λ”λ‹¤.**
  
## IoC κ·Έλ¦¬κ³  DI
### μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ„¤κ³„ 5μ›μΉ™
* SRP π‘‰ ν• ν΄λμ¤λ” ν•λ‚μ μ±…μ„λ§ κ°€μ§„λ‹¤.
  * ν΄λΌμ΄μ–ΈνΈ κ°μ²΄λ” μ‹¤ν–‰μ„ λ‹΄λ‹Ήν•λ‹¤.
  * AppConfigλ” κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„± λ° μ—°κ²°μ„ λ‹΄λ‹Ήν•λ‹¤. 
* DIP π‘‰ κµ¬ν„μ²΄μ— μμ΅΄ν•μ§€ μ•κ³  μ¶”μƒν™”μ— μμ΅΄ν•λ‹¤.
  * μΏ¨λΌμ΄μ–ΈνΈλ” μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•κ³  κµ¬ν„μ²΄λ” μƒμ„±μλ¥Ό ν†µν•΄μ„ λ°›λ”λ‹¤.
  * AppConfigλ” ν΄λΌμ΄μ–ΈνΈ λ€μ‹  κ°μ²΄ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•΄μ„ μμ΅΄κ΄€κ³„λ¥Ό μ£Όμ…ν•λ‹¤.
* OCP π‘‰ ν™•μ¥μ—λ” μ—΄λ ¤ μμΌλ‚ λ³€κ²½μ—λ” λ‹«ν€μλ‹¤.
  * μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ‚¬μ© μμ—­κ³Ό κµ¬μ„± μμ—­μΌλ΅ κµ¬λ¶„ν•λ‹¤.
  * κµ¬μ„± μμ—­μΈ AppConfigκ°€ μμ΅΄κ΄€κ³„λ¥Ό μ‚¬μ© μμ—­μ— μ£Όμ…ν•λ―€λ΅ μ‚¬μ© μμ—­μ€ λ³€κ²½ν•μ§€ μ•λ”λ‹¤.
  * μ†ν”„νΈμ›¨μ–΄λ¥Ό μƒλ΅­κ² ν™•μ¥ν•΄λ„ μ‚¬μ© μμ—­μ λ³€κ²½μ€ λ‹«ν€μλ‹¤.
  
### μ μ–΄μ μ—­μ „ (Inversion of Controll)
* κΈ°μ΅΄μ—λ” ν΄λΌμ΄μ–ΈνΈκ°€ κ°μ²΄λ¥Ό μƒμ„±, μ—°κ²° λ° μ‹¤ν–‰ν–λ‹¤. κµ¬ν„ κ°μ²΄κ°€ ν”„λ΅κ·Έλ¨μ μ μ–΄ νλ¦„μ„ μ¤μ¤λ΅ μ΅°μΆ…ν–λ‹¤.
* ν”„λ΅κ·Έλ¨ μ μ–΄ νλ¦„μ— λ€ν• λ¨λ“  κ¶ν•μ€ `AppConfig`κ°€ κ°€μ§„λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” λ¬µλ¬µν μμ‹ μ λ΅μ§μ„ μ‹¤ν–‰ν•  λΏμ΄λ‹¤.
* ν”„λ΅κ·Έλ¨μ μ μ–΄ νλ¦„μ„ μ§μ ‘ μ μ–΄ν•λ” κ²ƒμ΄ μ•„λ‹λΌ, μ™Έλ¶€μ—μ„ κ΄€λ¦¬ν•λ” κ²ƒμ„ **μ μ–΄μ μ—­μ „**μ΄λΌ ν•λ‹¤.
* ν”„λ μ„μ›ν¬ vs λΌμ΄λΈλ¬λ¦¬
  * ν”„λ μ„μ›ν¬κ°€ λ‚΄κ°€ μ‘μ„±ν• μ½”λ“λ¥Ό μ μ–΄ν•κ³  λ€μ‹  μ‹¤ν–‰ν•λ‹¤.
  * λ‚΄κ°€ ν•„μ”ν• κ³³μ— λΌμ΄λΈλ¬λ¦¬λ¥Ό κ°€μ Έλ‹¤ μ‚¬μ©ν•λ‹¤.
  
### μμ΅΄κ΄€κ³„ μ£Όμ… (Dependency Injection)
* μμ΅΄ κ΄€κ³„λ” μ •μ μΈ ν΄λμ¤ μμ΅΄ κ΄€κ³„μ™€ λ™μ μΈ κ°μ²΄ μΈμ¤ν„΄μ¤ μμ΅΄ κ΄€κ²λ΅ λ¶„λ¦¬λλ‹¤.
* μ •μ μΈ ν΄λμ¤ μμ΅΄ κ΄€κ³„
  ![](https://velog.velcdn.com/images/pipiolo/post/926fb278-8f4e-46af-afbf-1b01686933bb/image.png)
  * import μ½”λ“λ§ λ³΄κ³  μμ΅΄ κ΄€κ³„λ¥Ό μ‰½κ² μ• μ μλ‹¤.
  * μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ‹¤ν–‰ν•μ§€ μ•μ•„λ„ λ¶„μ„ν•  μ μλ‹¤.
  * ν΄λμ¤ μμ΅΄ κ΄€κ³„λ§μΌλ΅λ” μ‹¤μ  μ–΄λ–¤ κ°μ²΄κ°€ μ£Όμ…λ μ§€ μ• μ μ—†λ‹¤.
* λ™μ μΈ κ°μ²΄ μΈμ¤ν„΄μ¤ μμ΅΄ κ΄€κ³„
  ![](https://velog.velcdn.com/images/pipiolo/post/659f2748-fc36-417e-84d6-0c6e8fdcf012/image.png)
  * μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰ μ‹μ (λ°νƒ€μ„)μ— μλ¶€μ—μ„ κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μμ΅΄κ΄€κ³„λ¥Ό μ—°κ²°ν•λ‹¤.
  * μ •μ μΈ ν΄λμ¤ μμ΅΄κ΄€κ³„λ¥Ό λ³€κ²½ν•μ§€ μ•κ³  λ™μ μΈ κ°μ²΄ μΈμ¤ν„΄μ¤ μμ΅΄κ΄€κ³„λ¥Ό λ³€κ²½ν•  μ μλ‹¤.
* κ°μ²΄λ¥Ό μƒμ„±, μ—°κ²° λ° κ΄€λ¦¬ν•λ” `AppConfig`λ¥Ό **IoC μ»¨ν…μ΄λ„** λλ” **DI μ»¨ν…μ΄λ„**λΌ ν•λ‹¤.

### μ¤ν”„λ§μΌλ΅ μ „ν™
```java
@Configuration
public class AppConfig {

    @Bean
    public OrderService orderService(DiscountPolicy discountPolicy) {
        return new OrderServiceImpl(discountPolicy);
    }
    
    @Bean
    public DiscountPolicy discountPolicy() {
        return new RateDiscountPolicy();
    }
}
```

* `ApplicationContext`λ¥Ό **μ¤ν”„λ§ μ»¨ν…μ΄λ„**λΌ ν•λ‹¤.
* κΈ°μ΅΄μ—λ” κ°λ°μκ°€ `AppConfig`λ¥Ό ν†µν•΄μ„ μ§μ ‘ κ΄€λ¦¬ν–λ‹¤λ©΄, μ΄μ λ” μ¤ν”„λ§ μ»¨ν…μ΄λ„κ°€ κ΄€λ¦¬ν•λ‹¤.
* μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” `@Configuration`μ΄ λ¶™μ€ `AppConfig`λ¥Ό μ„¤μ •(κµ¬μ„±) μ •λ³΄λ΅ μ‚¬μ©ν•λ‹¤.
  * `@Bean`μ΄ λ¶™μ€ λ©”μ†λ“κ°€ λ°ν™ν•λ” κ°μ²΄λ¥Ό μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— λ“±λ΅ν•λ‹¤.
  * μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— λ“±λ΅λ κ°μ²΄λ¥Ό **μ¤ν”„λ§ λΉ**μ΄λΌ ν•λ‹¤.
* κΈ°μ΅΄μ—λ” κ°λ°μκ°€ μ§μ ‘ μλ°” μ½”λ“λ΅ λ¨λ“  κ²ƒμ„ ν–λ‹¤λ©΄, μ΄μ λ” μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— κ°μ²΄λ¥Ό λ“±λ΅ν•κ³  μ¤ν”„λ§ μ»¨ν…μ΄λ„λ¥Ό ν†µν•΄μ„ μ¤ν”„λ§ λΉμ„ μ°Ύμ•„ μ‚¬μ©ν•λ‹¤.

---
